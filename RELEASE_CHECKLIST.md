Release Checklist
=================

This project is intended to be used as a submodule across other repos. Follow the steps below to publish a new version and integrate it downstream.

One‑time setup
--------------
- Create GitHub repo (example): webfarmer/script-helpers
- Set default branch to `main` and enable GitHub Actions
- Ensure Actions have permissions: Settings → Actions → General → Workflow permissions → Read and write
- (Optional) Protect `main` branch, require PRs, and enforce conventional commit messages

Initial push
------------
1) From the parent `Projects` dir:
   - cd script-helpers
   - git branch -M main
   - git remote add origin git@github.com:<your-user-or-org>/script-helpers.git
   - git add . && git commit -m "chore: bootstrap script-helpers library"
   - git push -u origin main
2) Verify Actions tab is enabled

Versioning and releases
-----------------------
- Update VERSION with bump script (patch/minor/major):
  - scripts/bump_version.sh patch
  - git add VERSION && git commit -m "chore(release): bump version"
- Tag and push:
  - scripts/tag_release.sh
  - This creates tag `v<version>` based on VERSION and pushes it
- GitHub Actions creates a release for pushed tag with auto-generated notes

Downstream projects
-------------------
- Add as submodule in each project repo (example):
  - git submodule add -b main git@github.com:<user-or-org>/script-helpers.git scripts/script-helpers
  - Or pin a specific tag:
    - git submodule add -b v0.1.0 git@github.com:<user-or-org>/script-helpers.git scripts/script-helpers
- To bump submodule in downstream repos to a new version:
  - cd scripts/script-helpers && git fetch --tags && git checkout vX.Y.Z && cd -
  - git add scripts/script-helpers && git commit -m "chore: bump script-helpers to vX.Y.Z"

CI workflows
------------
- .github/workflows/auto-tag.yml: On push to `main`, parses conventional commits since last tag and auto-bumps VERSION and tags release (uses GITHUB_TOKEN)
- .github/workflows/release.yml: On tag push `v*`, creates a GitHub Release with autogenerated notes

Notes
-----
- Keep modules backward-compatible where possible; deprecate before removing
- Avoid breaking downstream by coordinating larger changes; use a minor or major bump accordingly

